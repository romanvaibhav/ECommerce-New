<div style="width: 100%; height: 87vh;">
    <div style="width: 100%; height: 25vh; background-color: #cdb4db;">
        <div style="width: 100%; display: flex; justify-content: flex-end;">
            <button  (click)="toggleDropdown($event)" style="margin-top: 5px; margin-right: 5px; font-size: 32px; background-color: #cdb4db; border: none;" class="material-symbols-outlined">
                settings
            </button>
            <div  *ngIf="isDropdownOpen" class="dropd" #dropdownssss>
                <ul>
                    <!-- Button which triggers the model -->
                  <button  type="button" class="butn" (click)="openmodel()" data-toggle="modal" data-target="#exampleModal">Update Profile</button>
                  <button (click)="DeleteCustImage()">Delete Image</button>
                </ul>
            </div>
        </div>
    </div>
    <div style="margin-left: 70px; margin-top: -100px;">
        <div><img class="cprofileimg" [src]="cuser?.picture" alt=""></div>
        <div style="margin-left: 115px; margin-top: -35px;">

          <!-- //Uploadinf Iage -->
            <input id="file-input" type="file" (change)="onFileSelected($event)"
                style="opacity: 0; position: absolute; z-index: -1;" />
            <label for="file-input" style="
      display: inline-flex; 
      align-items: center; 
      justify-content: center; 
      height: 30px; 
      width: 30px; 
      border-radius: 50%; 
      background: linear-gradient(to bottom, red, blue);
      cursor: pointer;
      font-size: 24px;
      color: white;
      font-weight: bold;
    ">+</label>
    
    <!-- Image Cropping IS Here -->

    
        </div>
        <div style="margin-top: -40px; margin-left: 200px;">
            <p style="font-weight: 500; font-size: 30px;">{{cuser?.name}}</p>
            <p style="margin-top: -1px; font-weight: 500; margin-left: 5px;">{{cuser?.email}}</p>
        </div>
    </div>


</div>


<div style="display: flex; ">
  <image-cropper
  [imageChangedEvent]="imageChangedEvent"
  [maintainAspectRatio]="true"
  [aspectRatio]="4/3"
  format="png"
  (imageCropped)="imageCropped($event)"
  (imageLoaded)="imageLoaded($event)"
  (cropperReady)="cropperReady()"
  (loadImageFailed)="loadImageFailed()"
  style="width: 18%; height: 400px;"></image-cropper>
  
  <img  style="width: 40%; height: 400px;"  [src]="croppedImage" /></div>






  
  <!--bootstrap model  for thr opening the model -->
  <div style="width: 30%; margin-left: 33%;" class="modal fade" #exampleModal id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Update Profile</h5>
          <!-- <button type="button" class="close"  data-bs-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button> -->
        </div>
        <div class="modal-body">
            
            <label style="font-weight: 500px;" for="name">Name:</label>
            <input style="margin-left: 5px;" type="text" [(ngModel)]="cupdateInfo.name" #name="ngModel" required><br>
            <div style="margin-left: 52px;  width: 220px; height: 20px; color: red; font-size: 12px;  ">
              <div *ngIf="name.touched && name.errors?.['required']">Name is required</div>
            </div>

            <div>
              <label for="email">Email:</label>
            <input style="margin-left: 9px;" type="text" [(ngModel)]="cupdateInfo.email"  #email="ngModel" required> <br>
          </div>
          <div style=" margin-left: 52px;  width: 220px; height: 20px; color: red; font-size: 12px;">
            <div *ngIf="email.touched && email.errors?.['required']">Email is required</div>
          </div>

            <button style="margin-top: 10px; margin-left:270px; border: 1px solid black; border-radius: 5px;" (click)="updateCustProfile()">Update</button></div>
        <div class="modal-footer">
          <button style="margin-left: -100px;" type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>